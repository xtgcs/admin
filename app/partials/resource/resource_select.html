<div class="modal-header">
    <h5 class="modal-title">选择资源文件</h5>
</div>
<div class="modal-body">
    <form class="navbar-form navbar-left" role="search" ng-submit="search()">
        <div class="form-group">
            <input type="text" class="form-control" ng-model="grid.name" placeholder="名称">
        </div>
        <button type="submit" class="btn btn-primary">搜索</button>
    </form>
    <table class="table list">
        <tr>
            <th>选择</th>
            <th class="text-left">预览图</th>
            <th>名称</th>
            <th>类型</th>
            <th>创建时间</th>
        </tr>
        <tr ng-repeat="r in resources.data">
            <td><input type="checkbox" ng-checked="ids.indexOf(r.id) > -1" ng-click="toggleSelection(r.id)"></td>
            <td class="text-left">
                <div ng-if="r.tp == 0">
                    <img ng-src="{{r.url | trusted}}?imageView2/0/w/50/h/50" width="50px" height="50px">
                </div>
                <div ng-if="r.tp == 1">
                    <img ng-src="{{r.poster | trusted}}?imageView2/0/w/50/h/50" width="50px" height="50px">
                </div>
            </td>
            <td><span style="border:none;width:190px;overflow: hidden;text-overflow:ellipsis;" popover="{{r.name}}" popover-trigger="mouseenter"
                      class="btn btn-default">{{r.name}}</span></td>
            <td>{{r.tp | resourceTpFilter}}</td>
            <td>{{r.ct | date:"yyyy-MM-dd HH:mm:ss"}}</td>
        </tr>
    </table>
    <div class="text-center">
        <pagination
                total-items="resources.total" ng-model="grid.page"
                items-per-page="resources.size" class="pagination-sm" boundary-links="true"
                max-size="10" rotate="true"
                previous-text="上一页" next-text="下一页" first-text="首页" last-text="末页">
        </pagination>
    </div>
</div>
<div class="modal-footer">
    <button class="btn btn-primary" ng-click="ok(selectedIds)">关闭</button>
    <button class="btn btn-warning" ng-click="cancel()">取消</button>
</div>